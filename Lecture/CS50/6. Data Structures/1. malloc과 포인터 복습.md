# 1. malloc과 포인터 복습

<br/>

아래와 같은 main 함수 코드가 있다.

```c
int main(void)
{
    int *x;
    int *y;

    x = malloc(sizeof(int));

    *x = 42;
    *y = 13;
}
```



<br/>

- 코드 설명

main 함수 안의 첫 두줄에서는 포인터 x와 y를 선언한다.

그리고 

x에는 malloc 함수를 이용해서 int 자료형 크기에 해당하는 메모리를 할당한다.

그 다음에는

x와 y 포인터가 가리키는 지점에 각각 42와 13을 저장한다.



<br/>

- 문제가 될 만한 부분

*y = 13

y는 포이터로만 선언되었을 뿐이지 어디를 가리킬지에 대해서는 아직 정의되지 않았다.

따라서

초기화 도지 않은 *y는 프로그램 어딘가를 임의로 가리키고 있을 수도 있다.

따라서 

그 곳에 13이라는 값을 저장하는 것이 오류를 발생시킬 수도 있는 것이다.



<br/><br/>

- 문제 해결

아래 코드와 같이 y = x; 라는 코드를 더해주면,

y는 x가 가리키는 곳과 동일한 곳을 가리키게 된다.

따라서

*y = 13; 으로 저장하면 x가 가리키는 곳에도 동일하게 13으로 저장될 것이다.

```c
y = x;

*y = 13;
```



<br/>

즉,

```c
int main(void)
{
    int *x;
    int *y;

    x = malloc(sizeof(int));

    *x = 42;
    
    y = x;

    *y = 13;
}
```





<br/><br/>



