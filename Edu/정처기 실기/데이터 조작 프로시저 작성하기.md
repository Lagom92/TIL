# 데이터 조작 프로시저 작성하기

## 1. 데이터 정의어(DDL: Data Definition Language)

1. 데이터를 저장하고 있는 테이블 등의 구조를 생성하고 변경하기 위하여 사용되는 명령어들을 말한다.
2. 명령어가 수행되면 이전 상태로 복귀할 수 없으므로 신중히 사용하여야 한다.

<br/>

| 명령어   | 설명               | 구문 및 예시                                                 |
| -------- | ------------------ | ------------------------------------------------------------ |
| CREATE   | 오브젝트 생성      | CREATE TABLE test_table<br />{<br />test1 NUMBER<br />test2 VARCHAR2(20)<br />test3 DATE NOT NULL<br />CONSTRAINT Tbl_Col_pk Key(test1)} |
| DROP     | 오브젝트 삭제      | DROP TABLE test_table;                                       |
| RENAME   | 오브젝트 이름 변경 | RENAME test_Table TO test_Backup_Table;                      |
| ALTER    | 오브젝트 구조 변경 | ALTER TABLE test_Table [ADD/MODIFY]                          |
| TRUNCATE | 오브젝트 자름      |                                                              |



<br/>

## 2. 데이터 조작어(DML: Data Manipulation Language)

1. 데이터베이스에 있는 데이터를 변경하거나 검색하기 위하여 사용되는 명령어들을 말한다.
2. 이 명령어는 트랜잭션 제어어(Transaction Control Language)를 활용하여 실행 전 상태로 복귀 가능한 명령어이다.



<br/>

### 1. INSERT

- 데이터 입력
- 입력하고자 하는 테이블의 모든 칼럼 데이터를 입력한다면 칼럼명을 명시하지 않아도 되나, 특정 칼럼만 을 입력하고자 한다면 반드시 칼럼명을 명시하여야 한다.
- 반드시 칼럼명 수와 VALUES 절의 수는 동일해야 한다.
- 기존에 존재하는 테이블 데이터로부터 특정 테이블로 데이터를 복사하고자 한다면 'INSERT INTO emp(empno) SELECT id FROM emp_src'와 같이 사용할 수 있다.



<br/>

### 2. UPDATE

- 데이터 수정



<br/>

### 3. DELETE

- 데이터 삭제



<br/>

## 3. 데이터 제어어(DCL: Data Control Language)

### 1. ROLE: 롤

- Role_name 선언 후 GRANT로 권한을 Role_name으로 부여한다.
- Oracle에서는 일반적으로 많이 사용하는 권한을 묶어 3가지 기본 Role을 제공한다.
- CONNECT: 데이터베이스 접속 권한
- RESOURCE: Object 생성 권한
- DBA: 모든 권한



<br/>

### 2. GRANT: 권한 및 롤 부여

- Grant/Admin Option 은 둘 다 실행 권한을 받은 사용자가 다시 다른 사용자에게 실행 권한을 부여해 줄 수 있게 해주는 option이다.
- 두 Option 간 차이는 다음과 같다.
  - With Grant Option: revoke 시 다른 사용자에게 부여된 권한도 함께 회수된다.
  - With Admin Option: revoke 시 다른 사용자에게 부여한 권한은 함께 회수되지 않으므로 Admin Option의 사용은 신중을 기해야 한다.



<br/>

### 3. REVOKE: 권한 및 롤 회수



<br/>

## 4. 트랜잭션 제어어(TCL: Transaction Control Language)

트랜잭션 제어어는 트랜잭션의 DML, 작업 단위를 제어하는 명령어이다.



<br/>

### 1. COMMIT

- 트랜잭션을 완료하여 데이터 변경사항을 최종 반영한다.
- COMMIT 이후 데이터 상태
- 데이터에 대한 변경 사항이 물리적인 디스크에 반영된다.
- COMMIT 이전 데이터는 복구할 수 없다.
- 모든 사용자가 변경된 결과를 볼 수 있다.
- 관련된 행에 대해 잠금(Lock)이 풀리며 다른 사용자들이 조작할 수 있다.



<br/>

### 2. ROLLBACK

- 데이터 변경사항을 이전 상태로 되돌리는 명령어이다.
- ROLLBACK 이후 데이터 상태
- ROLLBACK된 DML 문장은 메모리 상의 Buffer에만 영향을 미치기 때문에 복구가 가능하다.
- 관련된 행에 대한 잠금(Lock)이 풀리게 된다.



<br/>

### 3. SAVEPOINT

- 지정된 특정 시점까지 Rollback 할 수 있는 명령어이다.





<br/>

## 5. 데이터 검색어(SELECT)

<br/>

| 항목     | 설명                                            |
| -------- | ----------------------------------------------- |
| DISTINCT | 중복되는 행을 제거하는 옵션                     |
| *        | 테이블의 모든 column을 출력                     |
| alias    | 해당 column에 대해서 다른 이름을 부여할 때 사용 |
| WHERE    | 조건을 만족하는 행들만 검색                     |

















<br/><br/>